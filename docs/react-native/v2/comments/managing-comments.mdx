---
sidebar_position: 2
sidebar_label: Managing Activity Feeds Comments
---

import ActivityFeedPrerequisites from '@site/src/components/docs/shared/prerequisites/react-react-native/ActivityFeed';

# Managing Activity Feeds Comments

In this section, we will show you how to manage activity feeds from the the activity feeds comments service.

## Prerequisites

<ActivityFeedPrerequisites />

## Managing Activity Feeds Comments

To start managing your activity feeds (e.g. `create`, `delete`, etc.), you will need to use the `useCommentManager` hook which is exported from the `@busy-hour/react-native/hooks` or `@busy-hour/react-native/hooks/v2` package. The hook then will return an object detailed as below:

| Property         | Type       | Description                              |
| ---------------- | ---------- | ---------------------------------------- |
| `createComment`  | `function` | Create a new activity feed comment       |
| `updateComment`  | `function` | Update an existing activity feed comment |
| `deleteComment`  | `function` | Delete an existing activity feed comment |
| `likeComment`    | `function` | Like an activity feed comment            |
| `dislikeComment` | `function` | Disike an activity feed comment          |

## Creating Activity Feeds Comments

To create an activity feed comment, you can use the `createComment` function which is one of the return properties of the `useCommentManager` hook. To use it, you need to pass some properties which detailed as below.

| Property    | Type     | Description                                  |
| ----------- | -------- | -------------------------------------------- |
| `feedId`    | `string` | The id of the feed to create the comment for |
| `attribute` | `object` | Custom information for the comment           |

### Quick Example

```tsx title="src/main.tsx"
import { useCommentManager } from '@busy-hour/react-native/hooks';

export default function Main() {
  // highlight-next-line
  const { createComment } = useCommentManager();

  const createNewComment = () => {
    // highlight-start
    return createComment({
      feedId: 'the-feed-id',
      attribute: {
        message: 'I like the feeds',
      },
    });
    // highlight-end
  };

  return <MainApp />;
}
```

## Updating Activity Feeds Comments

To update an activity feed comment, you ca use the `updateComment` function which is one of the return properties of the `useCommentManager` hook. To use it, you need to pass the `commentId` of the activity feed comments and the final attributes for the comment.

### Quick Example

```tsx title="src/main.tsx"
import { useCommentManager } from '@busy-hour/react-native/hooks';

export default function Main() {
  // highlight-next-line
  const { updateComment } = useCommentManager();

  const updateExistingComment = () => {
    // highlight-start
    return updateComment('the-comment-id', {
      attribute: {
        message: 'I like the feeds',
      },
    });
    // highlight-end
  };

  return <MainApp />;
}
```

:::warning
Keep in mind that the `updateComment` function will replace the whole attribute for the comment not partially.
:::

## Deleting Activity Feeds Comments

To delete an activity feed comment, you can use the `deleteComment` function which is one of the return properties of the `useCommentManager` hook. To use it, you need to pass the `commentId` of the activity feed comments.

### Quick Example

```tsx title="src/main.tsx"
import { useCommentManager } from '@busy-hour/react-native/hooks';

export default function Main() {
  // highlight-next-line
  const { deleteComment } = useCommentManager();

  const deleteExistingComment = () => {
    // highlight-start
    return deleteComment('the-comment-id');
    // highlight-end
  };

  return <MainApp />;
}
```

## Liking Activity Feeds Comment

To like an activity feed, you can use the `likeComment` function which is one of the return properties of the `useCommentManager` hook. To use it, you need to pass the `feedId` of the activity feed and a `liked` boolean to determined to remove the like or not.

### Quick Example

```tsx title="src/main.tsx"
import { useCommentManager } from '@busy-hour/react-native/hooks';

export default function Main() {
  // highlight-next-line
  const { likeComment } = useCommentManager();

  const likeExistingComment = () => {
    // highlight-start
    return likeComment('the-comment-id', false); // Do not remove the like
    // highlight-end
  };

  return <MainApp />;
}
```

## Disliking Activity Feeds

To like an activity feed, you can use the `dislikeComment` function which is one of the return properties of the `useCommentManager` hook. To use it, you need to pass the `feedId` of the activity feed and a `liked` boolean to determined to remove the dislike or not.

### Quick Example

```tsx title="src/main.tsx"
import { useCommentManager } from '@busy-hour/react-native/hooks';

export default function Main() {
  // highlight-next-line
  const { dislikeComment } = useCommentManager();

  const dislikeExistingComment = () => {
    // highlight-start
    return dislikeComment('the-comment-id', true); // remove the dislike
    // highlight-end
  };

  return <MainApp />;
}
```
