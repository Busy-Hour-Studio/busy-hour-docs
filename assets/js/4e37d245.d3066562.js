"use strict";(self.webpackChunk_busy_hour_docs=self.webpackChunk_busy_hour_docs||[]).push([[163],{8097:(e,n,t)=>{t.r(n),t.d(n,{assets:()=>u,contentTitle:()=>l,default:()=>p,frontMatter:()=>o,metadata:()=>c,toc:()=>d});var i=t(1527),r=t(6225),s=t(6198),a=t(3663);const o={sidebar_position:1,sidebar_label:"Getting Started"},l="Getting Started",c={id:"react/getting-started",title:"Getting Started",description:"In this section, we will show you how to initialize the Busy Hour App and Main Service.",source:"@site/docs/react/getting-started.mdx",sourceDirName:"react",slug:"/react/getting-started",permalink:"/docs/react/getting-started",draft:!1,unlisted:!1,editUrl:"https://github.com/Busy-Hour-Studio/busy-hour-docs/tree/main/docs/react/getting-started.mdx",tags:[],version:"current",sidebarPosition:1,frontMatter:{sidebar_position:1,sidebar_label:"Getting Started"},sidebar:"tutorialSidebar",previous:{title:"@busy-hour/react",permalink:"/docs/react"},next:{title:"Initializing Services",permalink:"/docs/react/initializing-services"}},u={},d=[{value:"Prerequisites",id:"prerequisites",level:2},{value:"Installation",id:"installation",level:2},{value:"Initializing Busy Hour Project/App",id:"initializing-busy-hour-projectapp",level:2},{value:"Quick Example",id:"quick-example",level:3},{value:"Initializing Busy Hour Main Service",id:"initializing-busy-hour-main-service",level:2},{value:"Quick Example",id:"quick-example-1",level:3}];function h(e){const n={a:"a",admonition:"admonition",code:"code",h1:"h1",h2:"h2",h3:"h3",li:"li",ol:"ol",p:"p",pre:"pre",ul:"ul",...(0,r.a)(),...e.components},{Details:t}=n;return t||function(e,n){throw new Error("Expected "+(n?"component":"object")+" `"+e+"` to be defined: you likely forgot to import, pass, or provide it.")}("Details",!0),(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)(n.h1,{id:"getting-started",children:"Getting Started"}),"\n",(0,i.jsx)(n.p,{children:"In this section, we will show you how to initialize the Busy Hour App and Main Service."}),"\n",(0,i.jsx)(n.h2,{id:"prerequisites",children:"Prerequisites"}),"\n",(0,i.jsxs)(n.ol,{children:["\n",(0,i.jsxs)(n.li,{children:["Busy Hour Account (",(0,i.jsx)(n.a,{href:"https://busyhour.id/auth/sign-up",children:"Sign Up"})," if you don't have one yet)"]}),"\n",(0,i.jsxs)(n.li,{children:["Create a Busy Hour Project from the ",(0,i.jsx)(n.a,{href:"https://busyhour.id/dashboard/projects",children:"Dashboard/Projects"})]}),"\n",(0,i.jsxs)(n.li,{children:["Create a Busy Hour App from from the ",(0,i.jsx)(n.a,{href:"https://busyhour.id/dashboard/apps",children:"Dashboard/Apps"})]}),"\n",(0,i.jsxs)(n.li,{children:["Download Busy Hour App config file from from the ",(0,i.jsx)(n.a,{href:"https://busyhour.id/dashboard/apps",children:"Dashboard/Apps"})]}),"\n"]}),"\n",(0,i.jsx)(n.h2,{id:"installation",children:"Installation"}),"\n",(0,i.jsxs)(s.Z,{children:[(0,i.jsx)(a.Z,{value:"npm",label:"NPM",default:!0,children:(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-bash",children:"\nnpm i @busy-hour/react\n\n"})})}),(0,i.jsx)(a.Z,{value:"yarn",label:"YARN",children:(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-bash",children:"\nyarn add @busy-hour/react\n\n"})})}),(0,i.jsx)(a.Z,{value:"pnpm",label:"PNPM",children:(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-bash",children:"\npnpm add @busy-hour/react\n\n"})})})]}),"\n",(0,i.jsx)(n.h2,{id:"initializing-busy-hour-projectapp",children:"Initializing Busy Hour Project/App"}),"\n",(0,i.jsxs)(n.p,{children:["To initialize Busy Hour Project/App, you can use the ",(0,i.jsx)(n.code,{children:"initializeApp"})," function. The ",(0,i.jsx)(n.code,{children:"initializeApp"})," function is exported from the ",(0,i.jsx)(n.code,{children:"@busy-hour/react"})," package and take the following arguments:"]}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.code,{children:"configFile"})," - Config file from Busy Hour Dashboard/Apps"]}),"\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.code,{children:"projectAppId"})," - Project App ID from Busy Hour Dashboard/Apps"]}),"\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.code,{children:"projectId"})," - Project ID from Busy Hour Dashboard/Projects"]}),"\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.code,{children:"serviceWorker"})," - Service Worker File location, default is ",(0,i.jsx)(n.code,{children:"messaging-init-sw.js"})]}),"\n"]}),"\n",(0,i.jsxs)(n.admonition,{type:"warning",children:[(0,i.jsxs)(n.p,{children:["You need to put the ",(0,i.jsx)(n.code,{children:"messaging-init-sw.js"})," file in the ",(0,i.jsx)(n.code,{children:"public"})," folder or set the ",(0,i.jsx)(n.code,{children:"serviceWorker"})," argument to the place where your ",(0,i.jsx)(n.code,{children:"messaging-init-sw.js"})," located in the ",(0,i.jsx)(n.code,{children:"public"})," folder."]}),(0,i.jsxs)(n.p,{children:["In case the ",(0,i.jsx)(n.code,{children:"serviceWorker"})," argument is not set, the ",(0,i.jsx)(n.code,{children:"messaging-init-sw.js"})," will be loaded from the ",(0,i.jsx)(n.code,{children:"public"})," folder and if it doesn't exist, you will not be able to receive messages while the app is running in the background."]})]}),"\n",(0,i.jsx)(n.h3,{id:"quick-example",children:"Quick Example"}),"\n",(0,i.jsxs)(t,{children:[(0,i.jsx)("summary",{children:"With Hook"}),(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-tsx",metastring:'title="src/index.tsx"',children:"import React from 'react'\nimport { useInitBusyApp } from '@busy-hour/react/hooks'\n// Config file from Busy Hour Dashboard\nimport busyConfig from './busyConfig.json'\n\nexport default function Index() {\n  // highlight-start\n  const isAppInitialized = useInitBusyApp({\n    // initialize the app based on the config file\n    configFile: busyConfig,\n    projectAppId: 'your-project-app-id',\n    projectId: 'your-project-id',\n    // determine if the app should be initialized or not\n    isShouldInit: true,\n  })\n  // highlight-end\n\n  if (!isAppInitialized) {\n    return <div>Loading...</div>\n  }\n\n  return <App />\n}\n"})})]}),"\n",(0,i.jsxs)(t,{children:[(0,i.jsx)("summary",{children:"Without Hook"}),(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-tsx",metastring:'title="src/index.tsx"',children:"import React, { useEffect } from 'react'\nimport { initializeApp } from '@busy-hour/react'\n// Config file from Busy Hour Dashboard\nimport busyConfig from './busyConfig.json'\n\nexport default function Index() {\n  const [isAppInitialized, setIsAppInitialized] = useState(false)\n\n  useEffect(() => {\n    (async () => {\n      // highlight-start\n      await initializeApp({\n        // initialize the app based on the config file\n        configFile: busyConfig,\n        projectAppId: 'your-project-app-id',\n        projectId: 'your-project-id',\n      })\n      // highlight-end\n\n      setIsAppInitialized(true)\n    })()\n  }, [])\n\n  if (!isAppInitialized) {\n    return <div>Loading...</div>\n  }\n\n  return <App />\n}\n"})})]}),"\n",(0,i.jsx)(n.h2,{id:"initializing-busy-hour-main-service",children:"Initializing Busy Hour Main Service"}),"\n",(0,i.jsxs)(n.p,{children:["After initializing Busy Hour Project/App, now you can initialize Busy Hour main services using ",(0,i.jsx)(n.code,{children:"initializeService"})," function. The ",(0,i.jsx)(n.code,{children:"initializeService"})," function is exported from the ",(0,i.jsx)(n.code,{children:"@busy-hour/react"})," package and take the following arguments:"]}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.code,{children:"accessToken"})," - User access token"]}),"\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.code,{children:"serviceToken"})," - Service token"]}),"\n"]}),"\n",(0,i.jsxs)(n.admonition,{type:"warning",children:[(0,i.jsxs)(n.p,{children:["To get the user access token and service token, you can use the ",(0,i.jsx)(n.code,{children:"fetch/axios"})," to request user auth data from Busy Hour. Please keep in mind, that the process of requesting user auth data should be done only from your Backend and not from your Frontend."]}),(0,i.jsxs)(n.p,{children:["In this example, the idea is that you request the auth data to your Backend and then requesting it from Backend to our REST API or using the ",(0,i.jsx)(n.code,{children:"@busy-hour/node"})," package, afterwards the response will be passed to the ",(0,i.jsx)(n.code,{children:"initializeService"})," function."]})]}),"\n",(0,i.jsx)(n.h3,{id:"quick-example-1",children:"Quick Example"}),"\n",(0,i.jsxs)(t,{children:[(0,i.jsx)("summary",{children:"With Hook"}),(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-tsx",metastring:'title="src/main.tsx"',children:"import React from 'react'\nimport { useInitBusyService } from '@busy-hour/react/hooks'\n\nexport default function Main() {\n  // highlight-start\n  const isServiceInitialized = useInitBusyService({\n    // get user auth data from busy hour through your BE\n    // read more at https://docs.busyhour.id/docs/category/nodejs\n    // or at https://docs.busyhour.id/docs/category/rest\n    accessToken: 'your-user-access-token',\n    serviceToken: 'your-user-service-token',\n    // determine if the app should be initialized or not\n    isShouldInit: true,\n  })\n  // highlight-end\n\n  if (!isServiceInitialized) {\n    return <div>Loading...</div>\n  }\n\n  return <MainApp />\n}\n"})})]}),"\n",(0,i.jsxs)(t,{children:[(0,i.jsx)("summary",{children:"Without Hook"}),(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-tsx",metastring:'title="src/main.tsx"',children:"import React, { useEffect } from 'react'\nimport { initializeService } from '@busy-hour/react'\n\nexport default function Main() {\n  useEffect(() => {\n    (async () => {\n      // get user auth data from busy hour through your BE\n      // read more at https://docs.busyhour.id/docs/category/nodejs\n      // or at https://docs.busyhour.id/docs/category/rest\n      // highlight-start\n      const { data } = await axios.post<{\n        accessToken: string,\n        serviceToken: string\n      }>(...)\n      // highlight-end\n\n      // initialize the service using the auth\n      // highlight-next-line\n      await initializeService(data.accessToken, data.serviceToken)\n    })()\n  }, [])\n\n  return <MainApp />\n}\n"})})]})]})}function p(e={}){const{wrapper:n}={...(0,r.a)(),...e.components};return n?(0,i.jsx)(n,{...e,children:(0,i.jsx)(h,{...e})}):h(e)}},3663:(e,n,t)=>{t.d(n,{Z:()=>a});t(959);var i=t(5924);const r={tabItem:"tabItem_mTjK"};var s=t(1527);function a(e){let{children:n,hidden:t,className:a}=e;return(0,s.jsx)("div",{role:"tabpanel",className:(0,i.Z)(r.tabItem,a),hidden:t,children:n})}},6198:(e,n,t)=>{t.d(n,{Z:()=>k});var i=t(959),r=t(5924),s=t(8873),a=t(8903),o=t(4831),l=t(7754),c=t(7106),u=t(2615);function d(e){return i.Children.toArray(e).filter((e=>"\n"!==e)).map((e=>{if(!e||(0,i.isValidElement)(e)&&function(e){const{props:n}=e;return!!n&&"object"==typeof n&&"value"in n}(e))return e;throw new Error(`Docusaurus error: Bad <Tabs> child <${"string"==typeof e.type?e.type:e.type.name}>: all children of the <Tabs> component should be <TabItem>, and every <TabItem> should have a unique "value" prop.`)}))?.filter(Boolean)??[]}function h(e){const{values:n,children:t}=e;return(0,i.useMemo)((()=>{const e=n??function(e){return d(e).map((e=>{let{props:{value:n,label:t,attributes:i,default:r}}=e;return{value:n,label:t,attributes:i,default:r}}))}(t);return function(e){const n=(0,c.l)(e,((e,n)=>e.value===n.value));if(n.length>0)throw new Error(`Docusaurus error: Duplicate values "${n.map((e=>e.value)).join(", ")}" found in <Tabs>. Every value needs to be unique.`)}(e),e}),[n,t])}function p(e){let{value:n,tabValues:t}=e;return t.some((e=>e.value===n))}function f(e){let{queryString:n=!1,groupId:t}=e;const r=(0,a.k6)(),s=function(e){let{queryString:n=!1,groupId:t}=e;if("string"==typeof n)return n;if(!1===n)return null;if(!0===n&&!t)throw new Error('Docusaurus error: The <Tabs> component groupId prop is required if queryString=true, because this value is used as the search param name. You can also provide an explicit value such as queryString="my-search-param".');return t??null}({queryString:n,groupId:t});return[(0,l._X)(s),(0,i.useCallback)((e=>{if(!s)return;const n=new URLSearchParams(r.location.search);n.set(s,e),r.replace({...r.location,search:n.toString()})}),[s,r])]}function m(e){const{defaultValue:n,queryString:t=!1,groupId:r}=e,s=h(e),[a,l]=(0,i.useState)((()=>function(e){let{defaultValue:n,tabValues:t}=e;if(0===t.length)throw new Error("Docusaurus error: the <Tabs> component requires at least one <TabItem> children component");if(n){if(!p({value:n,tabValues:t}))throw new Error(`Docusaurus error: The <Tabs> has a defaultValue "${n}" but none of its children has the corresponding value. Available values are: ${t.map((e=>e.value)).join(", ")}. If you intend to show no default tab, use defaultValue={null} instead.`);return n}const i=t.find((e=>e.default))??t[0];if(!i)throw new Error("Unexpected error: 0 tabValues");return i.value}({defaultValue:n,tabValues:s}))),[c,d]=f({queryString:t,groupId:r}),[m,g]=function(e){let{groupId:n}=e;const t=function(e){return e?`docusaurus.tab.${e}`:null}(n),[r,s]=(0,u.Nk)(t);return[r,(0,i.useCallback)((e=>{t&&s.set(e)}),[t,s])]}({groupId:r}),b=(()=>{const e=c??m;return p({value:e,tabValues:s})?e:null})();(0,o.Z)((()=>{b&&l(b)}),[b]);return{selectedValue:a,selectValue:(0,i.useCallback)((e=>{if(!p({value:e,tabValues:s}))throw new Error(`Can't select invalid tab value=${e}`);l(e),d(e),g(e)}),[d,g,s]),tabValues:s}}var g=t(6060);const b={tabList:"tabList_Guh8",tabItem:"tabItem_JIbA"};var x=t(1527);function j(e){let{className:n,block:t,selectedValue:i,selectValue:a,tabValues:o}=e;const l=[],{blockElementScrollPositionUntilNextRender:c}=(0,s.o5)(),u=e=>{const n=e.currentTarget,t=l.indexOf(n),r=o[t].value;r!==i&&(c(n),a(r))},d=e=>{let n=null;switch(e.key){case"Enter":u(e);break;case"ArrowRight":{const t=l.indexOf(e.currentTarget)+1;n=l[t]??l[0];break}case"ArrowLeft":{const t=l.indexOf(e.currentTarget)-1;n=l[t]??l[l.length-1];break}}n?.focus()};return(0,x.jsx)("ul",{role:"tablist","aria-orientation":"horizontal",className:(0,r.Z)("tabs",{"tabs--block":t},n),children:o.map((e=>{let{value:n,label:t,attributes:s}=e;return(0,x.jsx)("li",{role:"tab",tabIndex:i===n?0:-1,"aria-selected":i===n,ref:e=>l.push(e),onKeyDown:d,onClick:u,...s,className:(0,r.Z)("tabs__item",b.tabItem,s?.className,{"tabs__item--active":i===n}),children:t??n},n)}))})}function y(e){let{lazy:n,children:t,selectedValue:r}=e;const s=(Array.isArray(t)?t:[t]).filter(Boolean);if(n){const e=s.find((e=>e.props.value===r));return e?(0,i.cloneElement)(e,{className:"margin-top--md"}):null}return(0,x.jsx)("div",{className:"margin-top--md",children:s.map(((e,n)=>(0,i.cloneElement)(e,{key:n,hidden:e.props.value!==r})))})}function v(e){const n=m(e);return(0,x.jsxs)("div",{className:(0,r.Z)("tabs-container",b.tabList),children:[(0,x.jsx)(j,{...e,...n}),(0,x.jsx)(y,{...e,...n})]})}function k(e){const n=(0,g.Z)();return(0,x.jsx)(v,{...e,children:d(e.children)},String(n))}},6225:(e,n,t)=>{t.d(n,{Z:()=>o,a:()=>a});var i=t(959);const r={},s=i.createContext(r);function a(e){const n=i.useContext(s);return i.useMemo((function(){return"function"==typeof e?e(n):{...n,...e}}),[n,e])}function o(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(r):e.components||r:a(e.components),i.createElement(s.Provider,{value:n},e.children)}}}]);